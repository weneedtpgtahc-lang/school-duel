<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Virus vs Vaccine â€“ Card UI</title>

  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,sans-serif;
      background:#0e1117;
      color:#e5e7eb;
    }
    .wrap{max-width:1100px;margin:0 auto;padding:20px;}
    h1{margin:10px 0 16px;text-align:center;}

    .tabs{
      display:flex; gap:10px; justify-content:center; flex-wrap:wrap;
      margin:10px 0 18px;
    }
    .tab{
      padding:10px 14px;
      border-radius:12px;
      border:2px solid #fff;
      background:transparent;
      color:#fff;
      font-weight:900;
      cursor:pointer;
    }
    .tab.on{
      background:#fff;
      color:#000;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:16px;
    }

    .card{
      background:#fff;
      color:#000; /* âœ… í…ìŠ¤íŠ¸ ê²€ì • */
      border-radius:16px;
      overflow:hidden;
      border:3px solid rgba(0,0,0,.18);
      box-shadow:0 10px 30px rgba(0,0,0,.3);
      cursor:pointer;
      transition:.12s transform, .12s border-color, .12s outline;
    }
    .card:hover{transform:translateY(-3px);}
    .card.selected{
      border-color:#ff2d2d;
      outline:5px solid rgba(255,45,45,.25);
    }

    .thumb{
      height:150px;
      display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,#f7fbff,#e6f4ff);
    }
    .thumb img{max-width:90%;max-height:90%;object-fit:contain;}

    .meta{padding:12px;}
    .name{font-weight:1000;font-size:16px;color:#000;}
    .stats{display:flex;gap:8px;margin-top:6px;flex-wrap:wrap;}
    .pill{
      padding:4px 8px;border-radius:999px;
      font-size:12px;font-weight:900;
      background:#f3f4f6;border:1px solid #d1d5db;color:#000;
    }
    .effect{margin-top:8px;font-size:12px;color:#000;opacity:.75;line-height:1.35;}

    .footer{
      margin-top:18px;
      text-align:center;
      font-weight:900;
    }

    .warn{
      margin:12px auto 0;
      max-width:760px;
      background:#fff3cd;
      color:#000;
      border:2px solid rgba(0,0,0,.2);
      border-radius:12px;
      padding:10px 12px;
      font-weight:900;
      display:none;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>ğŸƒ ì¹´ë“œ UI (ë°”ì´ëŸ¬ìŠ¤ / ë°±ì‹ )</h1>

    <div class="tabs">
      <button id="tabVirus" class="tab on">ğŸ¦  ë°”ì´ëŸ¬ìŠ¤</button>
      <button id="tabVax" class="tab">ğŸ’‰ ë°±ì‹ </button>
    </div>

    <div id="warn" class="warn"></div>

    <div id="cardGrid" class="grid"></div>

    <div id="selectedText" class="footer">ì„ íƒëœ ì¹´ë“œ: ì—†ìŒ</div>
  </div>

  <!-- âœ… 1) ëª¬ìŠ¤í„° ë°ì´í„° ë¨¼ì € ë¡œë“œ (ì „ì—­ ë³€ìˆ˜) -->
  <script src="assets/data/monsters.js"></script>

  <!-- âœ… 2) UI ë Œë” -->
  <script>
    const warn = document.getElementById("warn");
    const grid = document.getElementById("cardGrid");
    const selectedText = document.getElementById("selectedText");

    // === ë°ì´í„° ë¡œë”© ê²€ì¦ ===
    function showWarn(msg){
      warn.style.display = "block";
      warn.textContent = msg;
    }

    if (typeof virusMonsters === "undefined" || typeof vaxMonsters === "undefined") {
      showWarn("monsters.jsë¥¼ ëª» ì½ì—ˆì–´. ê²½ë¡œê°€ assets/data/monsters.js ë§ëŠ”ì§€ í™•ì¸í•´ì¤˜!");
      console.error("virusMonsters/vaxMonsters undefined. monsters.js not loaded or path wrong.");
    }

    let current = "virus";
    let selectedId = null;

    function cardHTML(m){
      const atk = (m.atk ?? "?");
      const hp  = (m.hp ?? "?");
      const effect = (m.effect && m.effect.trim()) ? m.effect : "íš¨ê³¼ ë¯¸ì •";
      return `
        <div class="card" data-id="${m.id}">
          <div class="thumb">
            <img src="${m.img}" alt="${m.name}"
                 onerror="this.style.display='none'; this.parentNode.textContent='(ì´ë¯¸ì§€ ì—†ìŒ)';">
          </div>
          <div class="meta">
            <div class="name">${m.name}</div>
            <div class="stats">
              <span class="pill">âš” ${atk}</span>
              <span class="pill">â¤ ${hp}</span>
              <span class="pill">${m.tier.toUpperCase()}</span>
            </div>
            <div class="effect">${effect}</div>
          </div>
        </div>
      `;
    }

    function render(){
      warn.style.display = "none";
      const list = (current === "virus") ? virusMonsters : vaxMonsters;

      if (!Array.isArray(list)) {
        showWarn("ëª¬ìŠ¤í„° ë°ì´í„°ê°€ ë°°ì—´ì´ ì•„ë‹ˆì•¼. monsters.js ë‚´ìš©ì„ í™•ì¸í•´ì¤˜!");
        console.error("list is not array", list);
        return;
      }

      grid.innerHTML = list.map(cardHTML).join("");

      grid.querySelectorAll(".card").forEach(el=>{
        el.addEventListener("click", ()=>{
          selectedId = el.dataset.id;
          grid.querySelectorAll(".card").forEach(x=>x.classList.remove("selected"));
          el.classList.add("selected");

          const picked = list.find(m=>m.id===selectedId);
          selectedText.textContent = "ì„ íƒëœ ì¹´ë“œ: " + (picked ? picked.name : selectedId);
        });
      });

      selectedText.textContent = "ì„ íƒëœ ì¹´ë“œ: ì—†ìŒ";
      selectedId = null;
    }

    // íƒ­
    const tabVirus = document.getElementById("tabVirus");
    const tabVax = document.getElementById("tabVax");

    tabVirus.onclick = ()=>{
      current = "virus";
      tabVirus.classList.add("on");
      tabVax.classList.remove("on");
      render();
    };
    tabVax.onclick = ()=>{
      current = "vax";
      tabVax.classList.add("on");
      tabVirus.classList.remove("on");
      render();
    };

    // ì´ˆê¸° ë Œë”
    render();
  </script>
</body>
</html>
